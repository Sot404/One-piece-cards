<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Interactive List</title>
  <style>
    body {
      font-family: 'Segoe UI', Arial, sans-serif;
      margin: 0;
      padding: 20px;
      background: linear-gradient(135deg, #1e1e2f, #2b2b45);
      color: #f5f5f5;
    }

    .tabs {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
    }

    .tab {
      padding: 10px 18px;
      border-radius: 8px;
      background: #3a3a5c;
      cursor: pointer;
      transition: background 0.2s;
    }

    .tab:hover { background: #4a4a75; }

    .tab.active {
      background: #6a6adf;
      font-weight: bold;
    }

    .controls {
      margin-bottom: 20px;
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }

    button {
      padding: 10px 16px;
      border-radius: 8px;
      border: none;
      background: #6a6adf;
      color: white;
      cursor: pointer;
      font-weight: 600;
      transition: transform 0.1s, background 0.2s;
    }

    button:hover { background: #7b7bf0; }
    button:active { transform: scale(0.97); }

    ul {
      list-style: none;
      padding: 0;
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 10px;
    }

    li {
      background: #2f2f4f;
      border-radius: 10px;
      padding: 10px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 8px;
      transition: background 0.2s;
    }

    li:hover { background: #3b3b66; }

    .left {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .number { font-weight: bold; font-size: 14px; }
    .text { font-size: 13px; opacity: 0.9; }

    .tick { color: #4caf50; font-weight: bold; }

    .delete {
      background: #d9534f;
      padding: 6px 10px;
      font-size: 12px;
      border-radius: 6px;
    }

    .delete:hover { background: #e06b67; }

    .glow {
      background: linear-gradient(135deg, #4a3f1f, #6b5a2a);
      box-shadow: 0 0 12px rgba(255, 215, 0, 0.8);
    }

    .footer {
      margin-top: 20px;
      font-size: 12px;
      opacity: 0.8;
    }

    textarea {
      width: 100%;
      height: 80px;
      border-radius: 8px;
      border: none;
      padding: 10px;
    }
  </style>
</head>
<body>
  <div class="tabs">
    <div class="tab active" data-tab="Marira">Marira</div>
    <div class="tab" data-tab="Soriris">Soriris</div>
    <div class="tab" data-tab="Total">Total</div>
  </div>

  <div class="controls">
    <button id="addBtn">Add Card</button>
    <button id="exportBtn">Export Save</button>
    <button id="importBtn">Import Save</button>
  </div>

  <ul id="list"></ul>

  <div class="footer">Data αποθηκεύονται αυτόματα (LocalStorage)</div>

  <script>
    const STORAGE_KEY = 'interactive-list-save';

    let data = {
      Marira: {},
      Soriris: {}
    };

    let currentTab = 'Marira';
    const listEl = document.getElementById('list');

    function save() {
      localStorage.setItem(STORAGE_KEY, JSON.stringify(data));
    }

    function load() {
      const saved = localStorage.getItem(STORAGE_KEY);
      if (saved) data = JSON.parse(saved);
    }

    function render() {
      listEl.innerHTML = '';
      let merged = {};
      if (currentTab === 'Total') merged = { ...data.Marira, ...data.Soriris };

      for (let i = 1; i <= 200; i++) {
        const entry = currentTab === 'Total' ? merged[i] : data[currentTab][i];
        const li = document.createElement('li');

        const left = document.createElement('div');
        left.className = 'left';

        const num = document.createElement('div');
        num.className = 'number';
        num.textContent = `#${i}`;
        left.appendChild(num);

        if (entry) {
          const txt = document.createElement('div');
          txt.className = 'text';
          txt.textContent = entry.text;
          left.appendChild(txt);
          if (entry.glow) li.classList.add('glow');
        }

        li.appendChild(left);

        if (entry) {
          const right = document.createElement('div');
          right.style.display = 'flex';
          right.style.gap = '6px';

          const tick = document.createElement('span');
          tick.className = 'tick';
          tick.textContent = '✔';

          right.appendChild(tick);

          if (currentTab !== 'Total') {
            const del = document.createElement('button');
            del.className = 'delete';
            del.textContent = 'Delete';
            del.onclick = () => {
              delete data[currentTab][i];
              save();
              render();
            };
            right.appendChild(del);
          }

          li.appendChild(right);
        }

        listEl.appendChild(li);
      }
    }

    document.querySelectorAll('.tab').forEach(t => {
      t.onclick = () => {
        document.querySelectorAll('.tab').forEach(x => x.classList.remove('active'));
        t.classList.add('active');
        currentTab = t.dataset.tab;
        render();
      };
    });

    document.getElementById('addBtn').onclick = () => {
      if (currentTab === 'Total') return;
      const num = prompt('Number (1-200):');
      const text = prompt('Text:');
      const glow = confirm('Glow?');
      if (!num || !text || num < 1 || num > 200) return;
      data[currentTab][num] = { text, glow };
      save();
      render();
    };

    document.getElementById('exportBtn').onclick = () => {
      const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'save.json';
      a.click();
      URL.revokeObjectURL(url);
    };

    document.getElementById('importBtn').onclick = () => {
      const input = document.createElement('input');
      input.type = 'file';
      input.accept = 'application/json';
      input.onchange = e => {
        const file = e.target.files[0];
        if (!file) return;
        const reader = new FileReader();
        reader.onload = () => {
          try {
            data = JSON.parse(reader.result);
            save();
            render();
          } catch {
            alert('Invalid file');
          }
        };
        reader.readAsText(file);
      };
      input.click();
    };

    load();
    render();
  </script>
</body>
</html>
